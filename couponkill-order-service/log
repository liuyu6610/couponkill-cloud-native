D:\jdk\idea-jdk\bin\java.exe -Xms2g -Xmx4g -XX:MaxMetaspaceSize=512m -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true "-Dmanagement.endpoints.jmx.exposure.include=*" "-javaagent:D:\dev-tool\idea-tool\IntelliJ IDEA 2025.2\lib\idea_rt.jar=61573" -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 @C:\Users\Lenovo\AppData\Local\Temp\idea_arg_file1216329338 com.aliyun.seckill.couponkillorderservice.CouponkillOrderServiceApplication
2025-08-30T22:29:30.906+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.alibaba.nacos.client.utils.ParamUtil   : [settings] [req-serv] nacos-server port:8848
2025-08-30T22:29:30.910+08:00  INFO 21616 --- [couponkill-order-service] [       Thread-1] c.a.n.c.a.r.identify.CredentialWatcher   : null No credential found
2025-08-30T22:29:30.910+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.alibaba.nacos.client.utils.ParamUtil   : [settings] [http-client] connect timeout:1000
2025-08-30T22:29:30.911+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.alibaba.nacos.client.utils.ParamUtil   : PER_TASK_CONFIG_SIZE: 3000.0
2025-08-30T22:29:30.929+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:30.929+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:30.929+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:30.930+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:30.930+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:30.930+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:30.930+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:30.930+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:30.930+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:30.937+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:30.937+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.3.4)

2025-08-30T22:29:32.061+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.c.impl.LocalConfigInfoProcessor  : LOCAL_SNAPSHOT_PATH:C:\Users\Lenovo\nacos\config
2025-08-30T22:29:32.064+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 6c45ca46-ea26-453a-ad24-7a892576ea78_config-0
2025-08-30T22:29:32.084+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086407b38
2025-08-30T22:29:32.085+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086408000
2025-08-30T22:29:32.085+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:32.086+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:32.093+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:32.134+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:32.830+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-30T22:29:32.832+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-30T22:29:32.832+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-30T22:29:32.833+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-30T22:29:32.949+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564172727_127.0.0.1_61585
2025-08-30T22:29:32.949+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Notify connected event to listeners.
2025-08-30T22:29:32.950+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Connected,notify listen context...
2025-08-30T22:29:32.950+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:32.950+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [6c45ca46-ea26-453a-ad24-7a892576ea78_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000002d086555e38
2025-08-30T22:29:33.000+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.Limiter     : limitTime:5.0
2025-08-30T22:29:33.019+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.utils.JvmUtil    : isMultiInstance:false
2025-08-30T22:29:33.038+08:00  WARN 21616 --- [couponkill-order-service] [           main] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[couponkill-order-service] & group[DEFAULT_GROUP]
2025-08-30T22:29:33.044+08:00  WARN 21616 --- [couponkill-order-service] [           main] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[couponkill-order-service.yaml] & group[DEFAULT_GROUP]
2025-08-30T22:29:33.060+08:00  INFO 21616 --- [couponkill-order-service] [           main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-couponkill-order-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-couponkill-order-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-couponkill-order-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-common.yaml,DEFAULT_GROUP'}]
2025-08-30T22:29:33.068+08:00  INFO 21616 --- [couponkill-order-service] [           main] .a.s.c.CouponkillOrderServiceApplication : The following 1 profile is active: "dev"
2025-08-30T22:29:34.046+08:00  INFO 21616 --- [couponkill-order-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-30T22:29:34.048+08:00  INFO 21616 --- [couponkill-order-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-30T22:29:34.074+08:00  INFO 21616 --- [couponkill-order-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.
2025-08-30T22:29:34.098+08:00  INFO 21616 --- [couponkill-order-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-30T22:29:34.100+08:00  INFO 21616 --- [couponkill-order-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-30T22:29:34.117+08:00  INFO 21616 --- [couponkill-order-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-08-30T22:29:34.506+08:00  INFO 21616 --- [couponkill-order-service] [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-08-30T22:29:34.519+08:00  INFO 21616 --- [couponkill-order-service] [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-08-30T22:29:34.665+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=848baab2-2982-3786-98f1-38a3119cf0be
2025-08-30T22:29:35.079+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.154+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.160+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.165+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.166+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda/0x000002d086785808] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.170+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.180+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.stream.binder.rocketmq.autoconfigurate.ExtendedBindingHandlerMappingsProviderConfiguration' of type [com.alibaba.cloud.stream.binder.rocketmq.autoconfigurate.ExtendedBindingHandlerMappingsProviderConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.183+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'rocketExtendedPropertiesDefaultMappingsProvider' of type [com.alibaba.cloud.stream.binder.rocketmq.autoconfigurate.ExtendedBindingHandlerMappingsProviderConfiguration$$Lambda/0x000002d086785c28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.186+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'BindingHandlerAdvise' of type [org.springframework.cloud.stream.config.BindingHandlerAdvise] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.198+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'spelConverter' of type [org.springframework.cloud.stream.config.SpelExpressionConverterConfiguration$SpelConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.209+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.211+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.263+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration$IntegrationJmxConfiguration' of type [org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration$IntegrationJmxConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [integrationMbeanExporter] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-30T22:29:35.271+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jmx-org.springframework.boot.autoconfigure.jmx.JmxProperties' of type [org.springframework.boot.autoconfigure.jmx.JmxProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [integrationMbeanExporter]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.282+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration' of type [org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [integrationMbeanExporter]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.286+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'mbeanServer' of type [com.sun.jmx.mbeanserver.JmxMBeanServer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [integrationMbeanExporter]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.310+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-30T22:29:35.314+08:00  WARN 21616 --- [couponkill-order-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:35.857+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-08-30T22:29:35.914+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-30T22:29:35.914+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-08-30T22:29:36.278+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-30T22:29:36.278+08:00  INFO 21616 --- [couponkill-order-service] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3187 ms
2025-08-30T22:29:36.423+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:36.423+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:36.423+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:36.423+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:36.423+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:36.423+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:36.424+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:36.424+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:36.424+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:36.424+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:36.424+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:36.425+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of d9710428-c694-4658-ad49-5b00696843e6_config-0
2025-08-30T22:29:36.425+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086407b38
2025-08-30T22:29:36.425+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086408000
2025-08-30T22:29:36.425+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:36.426+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:36.426+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:36.427+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:36.555+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564176434_127.0.0.1_61605
2025-08-30T22:29:36.555+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Notify connected event to listeners.
2025-08-30T22:29:36.555+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:36.555+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Connected,notify listen context...
2025-08-30T22:29:36.555+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [d9710428-c694-4658-ad49-5b00696843e6_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000002d086555e38
2025-08-30T22:29:36.858+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-30T22:29:37.078+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-08-30T22:29:37.080+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-30T22:29:37.116+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-08-30T22:29:37.427+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c680819
2025-08-30T22:29:37.427+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-08-30T22:29:38.050+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-08-30T22:29:38.286+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a577b99
2025-08-30T22:29:38.286+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-08-30T22:29:40.238+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : config listener notify warn timeout millis use default 60000 millis
2025-08-30T22:29:40.239+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : nacos.cache.data.init.snapshot = true
2025-08-30T22:29:40.240+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-998-localhost_8848] [subscribe] order-service-sharding.yaml+DEFAULT_GROUP+998
2025-08-30T22:29:40.248+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-998-localhost_8848] [add-listener] ok, tenant=998, dataId=order-service-sharding.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:40.248+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.s.c.c.OrderShardingSphereConfig      : 已添加Nacos配置监听器，dataId: order-service-sharding.yaml
2025-08-30T22:29:40.249+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-998-localhost_8848] [subscribe] middleware-cluster-config.yaml+DEFAULT_GROUP+998
2025-08-30T22:29:40.249+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-998-localhost_8848] [add-listener] ok, tenant=998, dataId=middleware-cluster-config.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:40.249+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.s.c.c.OrderShardingSphereConfig      : 已添加中间件集群配置监听器
2025-08-30T22:29:40.358+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-08-30T22:29:40.541+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f0df9e
2025-08-30T22:29:40.541+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-08-30T22:29:40.575+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-30T22:29:40.649+08:00  INFO 21616 --- [couponkill-order-service] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2025-08-30T22:29:40.689+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-30T22:29:41.196+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-30T22:29:41.785+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-30T22:29:41.791+08:00  INFO 21616 --- [couponkill-order-service] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-30T22:29:41.948+08:00  WARN 21616 --- [couponkill-order-service] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-30T22:29:42.046+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.c.openfeign.FeignClientFactoryBean   : For 'couponkill-coupon-service' URL not provided. Will try picking an instance via load-balancing.
2025-08-30T22:29:42.658+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.a.r.s.a.RocketMQAutoConfiguration      : a producer (order-service-producer-group) init on namesrv 114.55.117.16:9876
2025-08-30T22:29:43.029+08:00  INFO 21616 --- [couponkill-order-service] [           main] a.r.s.s.DefaultRocketMQListenerContainer : running container: DefaultRocketMQListenerContainer{consumerGroup='seckill-order-result-group', namespace='', nameServer='114.55.117.16:9876', topic='seckill_order_result', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-08-30T22:29:43.031+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.a.r.s.a.ListenerContainerConfiguration : Register the listener to container, listenerBeanName:seckillOrderResultListener, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:43.039+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:43.041+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] couponkill-order-service-sentinel-rules+SENTINEL_GROUP
2025-08-30T22:29:43.041+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=couponkill-order-service-sentinel-rules, group=SENTINEL_GROUP, cnt=1
2025-08-30T22:29:43.041+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of cf313a92-3f1e-48b6-b601-47af102764dc_config-0
2025-08-30T22:29:43.041+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086407b38
2025-08-30T22:29:43.041+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086408000
2025-08-30T22:29:43.041+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:43.041+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:43.042+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:43.042+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:43.152+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564183047_127.0.0.1_61623
2025-08-30T22:29:43.152+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:43.152+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000002d086555e38
2025-08-30T22:29:43.152+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Notify connected event to listeners.
2025-08-30T22:29:43.152+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [cf313a92-3f1e-48b6-b601-47af102764dc_config-0] Connected,notify listen context...
INFO: Sentinel log output type is: file
INFO: Sentinel log charset is: utf-8
INFO: Sentinel log base directory is: C:\Users\Lenovo\logs\csp\
INFO: Sentinel log name use pid is: false
INFO: Sentinel log level is: INFO
2025-08-30T22:29:45.379+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-08-30T22:29:46.766+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-08-30T22:29:46.988+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:46.989+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-gateway-sentinel+DEFAULT_GROUP+120
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-gateway-sentinel, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086407b38
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x000002d086408000
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:46.990+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:47.101+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564186995_127.0.0.1_61637
2025-08-30T22:29:47.101+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:47.101+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000002d086555e38
2025-08-30T22:29:47.101+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Notify connected event to listeners.
2025-08-30T22:29:47.101+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [9b3692bb-057e-43d2-b2bb-7eae123de1cb_config-0] Connected,notify listen context...
2025-08-30T22:29:47.105+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.c.s.d.converter.SentinelConverter    : converter can not convert rules because source is empty
2025-08-30T22:29:47.142+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.i.monitor.IntegrationMBeanExporter   : Registering MessageChannel errorChannel
2025-08-30T22:29:47.147+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.i.monitor.IntegrationMBeanExporter   : Registering MessageChannel nullChannel
2025-08-30T22:29:47.152+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.i.monitor.IntegrationMBeanExporter   : Registering MessageHandler _org.springframework.integration.errorLogger
2025-08-30T22:29:47.168+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-08-30T22:29:47.168+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'couponkill-order-service-1.errorChannel' has 1 subscriber(s).
2025-08-30T22:29:47.169+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-08-30T22:29:47.179+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2025-08-30T22:29:47.183+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.client.naming          : initializer namespace from ans.namespace attribute : null
2025-08-30T22:29:47.184+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.client.naming          : initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-08-30T22:29:47.184+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.client.naming          : initializer namespace from namespace attribute :null
2025-08-30T22:29:47.188+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.client.naming          : FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-08-30T22:29:47.191+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:47.191+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:47.195+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of a6d99f2b-59cb-430e-ae64-cd845514574c
2025-08-30T22:29:47.196+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.client.naming          : Create naming rpc client for uuid->a6d99f2b-59cb-430e-ae64-cd845514574c
2025-08-30T22:29:47.196+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-08-30T22:29:47.196+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-08-30T22:29:47.196+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-08-30T22:29:47.196+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:47.197+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:47.306+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Success to connect to server [localhost:8848] on start up, connectionId = 1756564187200_127.0.0.1_61639
2025-08-30T22:29:47.306+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:47.306+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000002d086555e38
2025-08-30T22:29:47.306+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Notify connected event to listeners.
2025-08-30T22:29:47.306+08:00  INFO 21616 --- [couponkill-order-service] [remote.worker.0] com.alibaba.nacos.client.naming          : Grpc connection connect
2025-08-30T22:29:47.307+08:00  INFO 21616 --- [couponkill-order-service] [           main] com.alibaba.nacos.client.naming          : [REGISTER-SERVICE] 120 registering service couponkill-order-service with instance Instance{instanceId='null', ip='172.30.64.1', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.heart.beat.timeout=30000, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-08-30T22:29:47.315+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP couponkill-order-service 172.30.64.1:8082 register finished
2025-08-30T22:29:48.319+08:00  INFO 21616 --- [couponkill-order-service] [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-08-30T22:29:48.330+08:00  INFO 21616 --- [couponkill-order-service] [           main] .a.s.c.CouponkillOrderServiceApplication : Started CouponkillOrderServiceApplication in 19.435 seconds (process running for 20.485)
2025-08-30T22:29:48.331+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-order-service+DEFAULT_GROUP+120
2025-08-30T22:29:48.333+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-order-service, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:48.333+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=couponkill-order-service, group=DEFAULT_GROUP
2025-08-30T22:29:48.333+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-order-service.yaml+DEFAULT_GROUP+120
2025-08-30T22:29:48.333+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-order-service.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:48.333+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=couponkill-order-service.yaml, group=DEFAULT_GROUP
2025-08-30T22:29:48.334+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-order-service-dev.yaml+DEFAULT_GROUP+120
2025-08-30T22:29:48.334+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-order-service-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:48.334+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=couponkill-order-service-dev.yaml, group=DEFAULT_GROUP
2025-08-30T22:29:48.335+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] common.yaml+DEFAULT_GROUP+120
2025-08-30T22:29:48.335+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:48.335+08:00  INFO 21616 --- [couponkill-order-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-08-30T22:29:56.671+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-30T22:29:56.671+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-30T22:29:56.673+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-08-30T22:29:56.785+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.controller.OrderController       : 收到秒杀请求: userId=101, couponId=10
2025-08-30T22:29:57.268+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.controller.OrderController       : Java服务处理秒杀请求: userId=101, couponId=10, currentCount=1
2025-08-30T22:29:57.428+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] com.alibaba.nacos.client.naming          : [SUBSCRIBE-SERVICE] service:couponkill-coupon-service, group:DEFAULT_GROUP, clusters:
2025-08-30T22:29:57.429+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] com.alibaba.nacos.client.naming          : [GRPC-SUBSCRIBE] service:couponkill-coupon-service, group:DEFAULT_GROUP, cluster:
2025-08-30T22:29:57.440+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] com.alibaba.nacos.client.naming          : init new ips(1) service: DEFAULT_GROUP@@couponkill-coupon-service -> [{"ip":"172.30.64.1","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@couponkill-coupon-service","metadata":{"preserved.heart.beat.timeout":"30000","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":30000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-08-30T22:29:57.442+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] com.alibaba.nacos.client.naming          : current ips:(1) service: DEFAULT_GROUP@@couponkill-coupon-service -> [{"ip":"172.30.64.1","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@couponkill-coupon-service","metadata":{"preserved.heart.beat.timeout":"30000","preserved.register.source":"SPRING_CLOUD"},"instanceHeartBeatTimeOut":30000,"instanceHeartBeatInterval":5000,"ipDeleteTimeout":30000}]
2025-08-30T22:29:57.649+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.service.Impl.OrderServiceImpl    : 从 coupon-service 获取到的优惠券对象: Coupon(id=10, name=秒杀测试券, description=夏日清凉, type=2, faceValue=5.00, minSpend=30.00, validDays=20, perUserLimit=1, totalStock=1562, seckillTotalStock=781, remainingStock=1562, seckillRemainingStock=778, status=1, createTime=2025-08-27T20:10:24, updateTime=2025-08-30T22:25:13, version=3, shardIndex=0)
2025-08-30T22:29:57.991+08:00  INFO 21616 --- [couponkill-order-service] [or-localhost-10] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Receive server push request, request = NotifySubscriberRequest, requestId = 40
2025-08-30T22:29:57.992+08:00  INFO 21616 --- [couponkill-order-service] [or-localhost-10] com.alibaba.nacos.common.remote.client   : [a6d99f2b-59cb-430e-ae64-cd845514574c] Ack server push request, request = NotifySubscriberRequest, requestId = 40
ANTLR Tool version 4.10.1 used for code generation does not match the current runtime version 4.13.0
ANTLR Runtime version 4.10.1 used for parser compilation does not match the current runtime version 4.13.0
ANTLR Tool version 4.10.1 used for code generation does not match the current runtime version 4.13.0
ANTLR Runtime version 4.10.1 used for parser compilation does not match the current runtime version 4.13.0
2025-08-30T22:30:02.102+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] ShardingSphere-SQL                       : Logic SQL: INSERT INTO `order` (id, user_id, coupon_id, virtual_id, status, get_time, use_time, expire_time, cancel_time,
                             create_time, update_time)
        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?,
                ?, ?)
2025-08-30T22:30:02.103+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] ShardingSphere-SQL                       : Actual SQL: order-db-1 ::: INSERT INTO `order_5` (id, user_id, coupon_id, virtual_id, status, get_time, use_time, expire_time, cancel_time,
                             create_time, update_time)
        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ::: [237247455014555648, 101, 10, 10_0, 1, 2025-08-30T22:30:01.120400400, null, 2025-09-19T22:30:01.120400400, null, 2025-08-30T22:30:01.120400400, 2025-08-30T22:30:01.120400400]
2025-08-30T22:30:02.380+08:00 ERROR 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.service.Impl.OrderServiceImpl    : 秒杀处理失败: userId=101, couponId=10

org.springframework.dao.DuplicateKeyException:
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '101-10-1' for key 'order_5.uk_user_coupon'
### The error may exist in file [D:\couponkill\couponkill-cloud-native\couponkill-order-service\target\classes\mapper\OrderMapper.xml]
### The error may involve com.aliyun.seckill.couponkillorderservice.mapper.OrderMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO `order` (id, user_id, coupon_id, virtual_id, status, get_time, use_time, expire_time, cancel_time,                              create_time, update_time)         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?,                 ?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '101-10-1' for key 'order_5.uk_user_coupon'
; Duplicate entry '101-10-1' for key 'order_5.uk_user_coupon'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:254) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy176.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy177.insert(Unknown Source) ~[na:na]
	at com.aliyun.seckill.couponkillorderservice.service.Impl.OrderServiceImpl.processSeckill(OrderServiceImpl.java:899) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.13.jar:6.1.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.13.jar:6.1.13]
	at com.aliyun.seckill.couponkillorderservice.service.Impl.OrderServiceImpl$$SpringCGLIB$$0.processSeckill(<generated>) ~[classes/:na]
	at com.aliyun.seckill.couponkillorderservice.controller.OrderController.doSeckill(OrderController.java:142) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.1.13.jar:6.1.13]
	at com.alibaba.csp.sentinel.annotation.aspectj.SentinelResourceAspect.invokeResourceWithSentinel(SentinelResourceAspect.java:57) ~[sentinel-annotation-aspectj-1.8.6.jar:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.13.jar:6.1.13]
	at com.aliyun.seckill.couponkillorderservice.controller.OrderController$$SpringCGLIB$$0.doSeckill(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '101-10-1' for key 'order_5.uk_user_coupon'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:555) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:339) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.apache.shardingsphere.driver.executor.callback.execute.ExecuteCallbackFactory$1.executeSQL(ExecuteCallbackFactory.java:55) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.callback.execute.ExecuteCallbackFactory$1.executeSQL(ExecuteCallbackFactory.java:51) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:91) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:65) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:99) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.parallelExecute(ExecutorEngine.java:95) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:78) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:66) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:50) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.doExecute(DriverJDBCPushDownExecuteExecutor.java:105) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.lambda$execute$0(DriverJDBCPushDownExecuteExecutor.java:90) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.transaction.DriverTransactionalExecutor.execute(DriverTransactionalExecutor.java:56) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.execute(DriverJDBCPushDownExecuteExecutor.java:89) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.DriverExecuteExecutor.executePushDown(DriverExecuteExecutor.java:126) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.DriverExecuteExecutor.execute(DriverExecuteExecutor.java:114) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.facade.DriverExecutorFacade.execute(DriverExecutorFacade.java:144) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:245) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy223.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 88 common frames omitted

2025-08-30T22:30:02.385+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.service.Impl.OrderServiceImpl    : 开始处理秒杀失败补偿，orderId=null, userId=101, couponId=10
2025-08-30T22:30:02.391+08:00  WARN 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.service.Impl.OrderServiceImpl    : 恢复库存可能失败，couponId=10
2025-08-30T22:30:02.418+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.service.Impl.OrderServiceImpl    : 清理用户领取状态缓存成功: userId=101, couponId=10
2025-08-30T22:30:02.915+08:00  WARN 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.service.Impl.OrderServiceImpl    : 创建补偿优惠券可能失败
2025-08-30T22:30:02.998+08:00  INFO 21616 --- [couponkill-order-service] [nio-8082-exec-1] c.a.s.c.service.Impl.OrderServiceImpl    : 发送补偿消息成功，订单ID: null
