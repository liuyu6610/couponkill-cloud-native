# JMeter性能优化配置

# 增加JVM堆内存
HEAP="-Xms4g -Xmx4g -XX:MaxMetaspaceSize=512m"

# 减少JMeter日志级别以提高性能
log_level.jmeter=INFO
log_level.jmeter.engine=INFO
log_level.jmeter.gui=WARN
log_level.jmeter.testbeans=WARN
log_level.jmeter.util=WARN
log_level.jorphan=INFO
log_level.jmeter.junit=INFO

# 网络设置优化
httpclient4.retrycount=0
httpclient4.timeout_multiplier=1

# 禁用一些不必要的功能以提高性能
jmeter.save.saveservice.url=false
jmeter.save.saveservice.hostname=false
jmeter.save.saveservice.thread_counts=false
jmeter.save.saveservice.sample_count=false
jmeter.save.saveservice.idle_time=false
jmeter.save.saveservice.print_field_names=true

# 启用并行处理
mode=StrippedAsynch

# 增加样本结果处理的批量大小
hold_samples=false

# 减少GUI更新频率
jmeter.gui.refresh_period=60

# 启用GZIP压缩
httpclient4.gzip_content=true

# 连接池设置
httpclient4.validate_after_inactivity=1000
httpclient4.time_to_live=60000

# 线程组设置
threadsystem.use_userclassloader=false

# Sample结果设置
jmeter.save.saveservice.output_format=csv
jmeter.save.saveservice.assertion_results_failure_message=true
jmeter.save.saveservice.timestamp_format=yyyy/MM/dd HH:mm:ss.SSS
jmeter.save.saveservice.default_delimiter=,
jmeter.save.saveservice.print_field_names=true

# 网络设置
httpclient4.retrycount=0
httpclient4.timeout_multiplier=1
httpclient4.idletimeout=30000

# 减少内存使用
sample_variables=