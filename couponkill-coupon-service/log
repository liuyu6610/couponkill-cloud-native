2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Logic SQL: SELECT * FROM coupon WHERE id = ? ORDER BY shard_index
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.970+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.971+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:09.972+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.964+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] c.a.s.c.controller.CouponController      : 扣减优惠券库存并返回使用的分片ID: id=10
2025-08-30T22:25:12.967+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Logic SQL: SELECT * FROM coupon WHERE id = ? ORDER BY shard_index
2025-08-30T22:25:12.967+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.967+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.967+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:12.968+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:25:13.612+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Logic SQL: UPDATE coupon
        SET seckill_remaining_stock = seckill_remaining_stock + ?,
            version = version + 1,
            update_time = NOW()
        WHERE id = ? AND shard_index = ? AND version = ?
2025-08-30T22:25:13.612+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: UPDATE coupon_0
        SET seckill_remaining_stock = seckill_remaining_stock + ?,
            version = version + 1,
            update_time = NOW()
        WHERE id = ? AND shard_index = ? AND version = ? ::: [-1, 10, 0, 2]
2025-08-30T22:25:13.679+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-2] c.a.s.c.service.Impl.CouponServiceImpl   : 成功扣减优惠券分片 0 的库存
2025-08-30T22:25:13.709+08:00  INFO 33724 --- [couponkill-coupon-service] [onPool-worker-5] c.a.s.c.service.Impl.CouponServiceImpl   : 异步更新Redis库存成功: key=coupon:stock:10
2025-08-30T22:25:14.962+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-6] c.a.s.c.controller.CouponController      : 增加优惠券库存: id=10
2025-08-30T22:25:15.021+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-4] c.a.s.c.controller.CouponController      : 创建补偿优惠券: coupon=Coupon(id=null, name=秒杀失败补偿券, description=由于秒杀失败给予的补偿优惠券, type=1, faceValue=10.0, minSpend=0, validDays=1, perUserLimit=1, totalStock=null, seckillTotalStock=0, remainingStock=0, seckillRemainingStock=0, status=1, createTime=null, updateTime=null, version=0, shardIndex=null)
2025-08-30T22:25:15.026+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Logic SQL: INSERT INTO coupon (
            id, name, description, type, face_value, min_spend, valid_days,
            per_user_limit, total_stock, seckill_total_stock, remaining_stock,
            seckill_remaining_stock, status, create_time, update_time, version, shard_index
        ) VALUES (
                     ?, ?, ?, ?, ?, ?, ?,
                     ?, ?, ?, ?,
                     ?, ?, ?, ?, ?, ?
                 )
2025-08-30T22:25:15.026+08:00  INFO 33724 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: INSERT INTO coupon_0 (
            id, name, description, type, face_value, min_spend, valid_days,
            per_user_limit, total_stock, seckill_total_stock, remaining_stock,
            seckill_remaining_stock, status, create_time, update_time, version, shard_index
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ::: [null, 秒杀失败补偿券, 由于秒杀失败给予的补偿优惠券, 1, 10.0, 0, 1, 1, null, 0, 0, 0, 1, 2025-08-30T22:25:15.024492200, 2025-08-30T22:25:15.024492200, 0, 0]
2025-08-30T22:25:15.231+08:00 ERROR 33724 --- [couponkill-coupon-service] [nio-8081-exec-4] c.a.s.c.controller.CouponController      : 创建补偿优惠券失败

org.springframework.dao.DataIntegrityViolationException:
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
### The error may exist in file [D:\couponkill\couponkill-cloud-native\couponkill-coupon-service\target\classes\mapper\CouponMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO coupon (             id, name, description, type, face_value, min_spend, valid_days,             per_user_limit, total_stock, seckill_total_stock, remaining_stock,             seckill_remaining_stock, status, create_time, update_time, version, shard_index         ) VALUES (                      ?, ?, ?, ?, ?, ?, ?,                      ?, ?, ?, ?,                      ?, ?, ?, ?, ?, ?                  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
; Column 'id' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:97) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy137.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy138.insertCoupon(Unknown Source) ~[na:na]
	at com.aliyun.seckill.couponkillcouponservice.service.Impl.CouponServiceImpl.createCoupon(CouponServiceImpl.java:65) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.13.jar:6.1.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.13.jar:6.1.13]
	at com.aliyun.seckill.couponkillcouponservice.service.Impl.CouponServiceImpl$$SpringCGLIB$$0.createCoupon(<generated>) ~[classes/:na]
	at com.aliyun.seckill.couponkillcouponservice.controller.CouponController.createCompensationCoupon(CouponController.java:219) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:555) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:339) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.apache.shardingsphere.driver.executor.callback.execute.ExecuteCallbackFactory$1.executeSQL(ExecuteCallbackFactory.java:55) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.callback.execute.ExecuteCallbackFactory$1.executeSQL(ExecuteCallbackFactory.java:51) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:91) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:65) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:99) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.parallelExecute(ExecutorEngine.java:95) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:78) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:66) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:50) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.doExecute(DriverJDBCPushDownExecuteExecutor.java:105) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.lambda$execute$0(DriverJDBCPushDownExecuteExecutor.java:90) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.transaction.DriverTransactionalExecutor.execute(DriverTransactionalExecutor.java:56) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.execute(DriverJDBCPushDownExecuteExecutor.java:89) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.DriverExecuteExecutor.executePushDown(DriverExecuteExecutor.java:126) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.DriverExecuteExecutor.execute(DriverExecuteExecutor.java:114) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.facade.DriverExecutorFacade.execute(DriverExecutorFacade.java:144) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:245) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy188.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 68 common frames omitted
D:\jdk\idea-jdk\bin\java.exe -Xms1g -Xmx2g -XX:MaxMetaspaceSize=512m -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true "-Dmanagement.endpoints.jmx.exposure.include=*" "-javaagent:D:\dev-tool\idea-tool\IntelliJ IDEA 2025.2\lib\idea_rt.jar=61586" -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 @C:\Users\Lenovo\AppData\Local\Temp\idea_arg_file929924915 com.aliyun.seckill.couponkillcouponservice.CouponkillCouponServiceApplication
2025-08-30T22:29:36.705+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.alibaba.nacos.client.utils.ParamUtil   : [settings] [req-serv] nacos-server port:8848
2025-08-30T22:29:36.710+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.alibaba.nacos.client.utils.ParamUtil   : [settings] [http-client] connect timeout:1000
2025-08-30T22:29:36.710+08:00  INFO 17924 --- [couponkill-coupon-service] [       Thread-1] c.a.n.c.a.r.identify.CredentialWatcher   : null No credential found
2025-08-30T22:29:36.711+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.alibaba.nacos.client.utils.ParamUtil   : PER_TASK_CONFIG_SIZE: 3000.0
2025-08-30T22:29:36.741+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:36.742+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:36.742+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:36.742+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:36.744+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:36.744+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:36.744+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:36.744+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:36.744+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:36.754+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:36.754+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.3.4)

2025-08-30T22:29:37.868+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.c.impl.LocalConfigInfoProcessor  : LOCAL_SNAPSHOT_PATH:C:\Users\Lenovo\nacos\config
2025-08-30T22:29:37.872+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0
2025-08-30T22:29:37.893+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cbe58
2025-08-30T22:29:37.893+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cc288
2025-08-30T22:29:37.894+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:37.894+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:37.900+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:37.933+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:38.511+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-30T22:29:38.513+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-30T22:29:38.513+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-30T22:29:38.513+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-30T22:29:38.628+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564178431_127.0.0.1_61610
2025-08-30T22:29:38.629+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Notify connected event to listeners.
2025-08-30T22:29:38.629+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Connected,notify listen context...
2025-08-30T22:29:38.630+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:38.630+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [37fdbb31-6815-47e2-9477-440a1fc9be7f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000001904453e178
2025-08-30T22:29:38.682+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.Limiter     : limitTime:5.0
2025-08-30T22:29:38.703+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.utils.JvmUtil    : isMultiInstance:false
2025-08-30T22:29:38.719+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[couponkill-coupon-service] & group[DEFAULT_GROUP]
2025-08-30T22:29:38.723+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[couponkill-coupon-service.yaml] & group[DEFAULT_GROUP]
2025-08-30T22:29:38.736+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-couponkill-coupon-service-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-couponkill-coupon-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-couponkill-coupon-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-common.yaml,DEFAULT_GROUP'}]
2025-08-30T22:29:38.745+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] a.s.c.CouponkillCouponServiceApplication : The following 1 profile is active: "dev"
2025-08-30T22:29:39.574+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-30T22:29:39.577+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-30T22:29:39.599+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-08-30T22:29:39.823+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-08-30T22:29:39.832+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-08-30T22:29:39.953+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=29e6dd3f-0df4-3eff-9735-339b6e7cc506
2025-08-30T22:29:40.377+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.429+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.434+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.437+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.438+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda/0x00000190447586c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.440+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.446+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.stream.binder.rocketmq.autoconfigurate.ExtendedBindingHandlerMappingsProviderConfiguration' of type [com.alibaba.cloud.stream.binder.rocketmq.autoconfigurate.ExtendedBindingHandlerMappingsProviderConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.447+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'rocketExtendedPropertiesDefaultMappingsProvider' of type [com.alibaba.cloud.stream.binder.rocketmq.autoconfigurate.ExtendedBindingHandlerMappingsProviderConfiguration$$Lambda/0x0000019044758ae0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.449+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'BindingHandlerAdvise' of type [org.springframework.cloud.stream.config.BindingHandlerAdvise] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.459+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'spelConverter' of type [org.springframework.cloud.stream.config.SpelExpressionConverterConfiguration$SpelConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.465+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.467+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.495+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration$IntegrationJmxConfiguration' of type [org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration$IntegrationJmxConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [integrationMbeanExporter] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-30T22:29:40.499+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jmx-org.springframework.boot.autoconfigure.jmx.JmxProperties' of type [org.springframework.boot.autoconfigure.jmx.JmxProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [integrationMbeanExporter]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.508+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration' of type [org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [integrationMbeanExporter]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.511+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'mbeanServer' of type [com.sun.jmx.mbeanserver.JmxMBeanServer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [integrationMbeanExporter]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.527+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-30T22:29:40.530+08:00  WARN 17924 --- [couponkill-coupon-service] [           main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2025-08-30T22:29:40.770+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-08-30T22:29:40.788+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-30T22:29:40.788+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-08-30T22:29:40.954+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-30T22:29:40.954+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2194 ms
2025-08-30T22:29:41.121+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:41.122+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:41.122+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:41.122+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:41.122+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:41.123+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:41.123+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:41.123+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:41.123+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:41.124+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:41.124+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:41.125+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of d99fd38e-38a9-436d-a875-976207c0f261_config-0
2025-08-30T22:29:41.125+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cbe58
2025-08-30T22:29:41.125+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cc288
2025-08-30T22:29:41.125+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:41.125+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:41.125+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:41.126+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:41.242+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564181133_127.0.0.1_61616
2025-08-30T22:29:41.242+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:41.242+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000001904453e178
2025-08-30T22:29:41.242+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Notify connected event to listeners.
2025-08-30T22:29:41.242+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [d99fd38e-38a9-436d-a875-976207c0f261_config-0] Connected,notify listen context...
2025-08-30T22:29:41.477+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-30T22:29:41.694+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:config user=SA
2025-08-30T22:29:41.695+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-30T22:29:41.730+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-08-30T22:29:42.012+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27ada0e8
2025-08-30T22:29:42.013+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-08-30T22:29:42.648+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-08-30T22:29:42.849+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1b7648f
2025-08-30T22:29:42.849+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-08-30T22:29:44.836+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : config listener notify warn timeout millis use default 60000 millis
2025-08-30T22:29:44.837+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : nacos.cache.data.init.snapshot = true
2025-08-30T22:29:44.838+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-998-localhost_8848] [subscribe] coupon-service-sharding.yaml+DEFAULT_GROUP+998
2025-08-30T22:29:44.845+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-998-localhost_8848] [add-listener] ok, tenant=998, dataId=coupon-service-sharding.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:44.845+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.s.c.c.CouponShardingSphereConfig     : 已添加Nacos配置监听器，dataId: coupon-service-sharding.yaml
2025-08-30T22:29:44.846+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-998-localhost_8848] [subscribe] middleware-cluster-config.yaml+DEFAULT_GROUP+998
2025-08-30T22:29:44.846+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-998-localhost_8848] [add-listener] ok, tenant=998, dataId=middleware-cluster-config.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:44.846+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.s.c.c.CouponShardingSphereConfig     : 已添加中间件集群配置监听器
2025-08-30T22:29:45.423+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.a.r.s.a.RocketMQAutoConfiguration      : a producer (common-producer-group) init on namesrv 114.55.117.16:9876
2025-08-30T22:29:45.547+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:45.547+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:45.547+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:45.547+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:45.547+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:45.547+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:45.547+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:45.548+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:45.548+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:45.548+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:45.548+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:45.549+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-localhost_8848] [subscribe] couponkill-coupon-service-sentinel-rules+SENTINEL_GROUP
2025-08-30T22:29:45.549+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-localhost_8848] [add-listener] ok, tenant=, dataId=couponkill-coupon-service-sentinel-rules, group=SENTINEL_GROUP, cnt=1
2025-08-30T22:29:45.549+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0
2025-08-30T22:29:45.549+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cbe58
2025-08-30T22:29:45.549+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cc288
2025-08-30T22:29:45.549+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:45.549+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:45.550+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:45.550+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:45.664+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564185557_127.0.0.1_61634
2025-08-30T22:29:45.664+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:45.664+08:00  INFO 17924 --- [couponkill-coupon-service] [client.Worker.1] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000001904453e178
2025-08-30T22:29:45.664+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Notify connected event to listeners.
2025-08-30T22:29:45.664+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [da29a816-3e46-45a7-9ed8-2e457bc261a1_config-0] Connected,notify listen context...
INFO: Sentinel log output type is: file
INFO: Sentinel log charset is: utf-8
INFO: Sentinel log base directory is: C:\Users\Lenovo\logs\csp\
INFO: Sentinel log name use pid is: false
INFO: Sentinel log level is: INFO
2025-08-30T22:29:46.752+08:00  INFO 17924 --- [couponkill-coupon-service] [pool-8-thread-1] ShardingSphere-SQL                       : Logic SQL: SELECT * FROM coupon WHERE shard_index = 0
2025-08-30T22:29:46.752+08:00  INFO 17924 --- [couponkill-coupon-service] [pool-8-thread-1] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_0 WHERE shard_index = 0
2025-08-30T22:29:46.882+08:00  INFO 17924 --- [couponkill-coupon-service] [pool-8-thread-1] c.a.s.c.service.Impl.CouponServiceImpl   : 预热缓存，共找到 1 个优惠券主分片
2025-08-30T22:29:47.469+08:00  INFO 17924 --- [couponkill-coupon-service] [pool-8-thread-1] c.a.s.c.service.Impl.CouponServiceImpl   : 预热完成，共加载 1 个优惠券
2025-08-30T22:29:47.829+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-08-30T22:29:49.109+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels.....
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : Process LabelsCollector with [name:defaultNacosLabelsCollector]
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties raw labels: null
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect properties labels: {}
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm raw labels: null
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect jvm labels: {}
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env raw labels: null
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : default nacos collect env labels: {}
2025-08-30T22:29:49.359+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.labels          : DefaultLabelsCollectorManager get labels finished,labels :{}
2025-08-30T22:29:49.360+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:49.360+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:49.361+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-gateway-sentinel+DEFAULT_GROUP+120
2025-08-30T22:29:49.361+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-gateway-sentinel, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:49.361+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 769559b9-be1d-466b-96a3-3f48fb52d669_config-0
2025-08-30T22:29:49.361+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cbe58
2025-08-30T22:29:49.362+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda/0x00000190443cc288
2025-08-30T22:29:49.362+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-08-30T22:29:49.362+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-08-30T22:29:49.362+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:49.362+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:49.471+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Success to connect to server [localhost:8848] on start up, connectionId = 1756564189366_127.0.0.1_61648
2025-08-30T22:29:49.471+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:49.471+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000001904453e178
2025-08-30T22:29:49.471+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Notify connected event to listeners.
2025-08-30T22:29:49.471+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] c.a.n.client.config.impl.ClientWorker    : [769559b9-be1d-466b-96a3-3f48fb52d669_config-0] Connected,notify listen context...
2025-08-30T22:29:49.476+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.c.s.d.converter.SentinelConverter    : converter can not convert rules because source is empty
2025-08-30T22:29:49.521+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.i.monitor.IntegrationMBeanExporter   : Registering MessageChannel errorChannel
2025-08-30T22:29:49.526+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.i.monitor.IntegrationMBeanExporter   : Registering MessageChannel nullChannel
2025-08-30T22:29:49.530+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.i.monitor.IntegrationMBeanExporter   : Registering MessageHandler _org.springframework.integration.errorLogger
2025-08-30T22:29:49.548+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-08-30T22:29:49.548+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'couponkill-coupon-service-1.errorChannel' has 1 subscriber(s).
2025-08-30T22:29:49.549+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-08-30T22:29:49.561+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-08-30T22:29:49.567+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.client.naming          : initializer namespace from ans.namespace attribute : null
2025-08-30T22:29:49.567+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.client.naming          : initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-08-30T22:29:49.567+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.client.naming          : initializer namespace from namespace attribute :null
2025-08-30T22:29:49.573+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.client.naming          : FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-08-30T22:29:49.578+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-30T22:29:49.578+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-30T22:29:49.584+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 766acd60-6cf1-498a-af15-a2882c0d8aa7
2025-08-30T22:29:49.585+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.client.naming          : Create naming rpc client for uuid->766acd60-6cf1-498a-af15-a2882c0d8aa7
2025-08-30T22:29:49.585+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-08-30T22:29:49.585+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-08-30T22:29:49.586+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-08-30T22:29:49.586+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] Try to connect to server on start up, server: {serverIp = 'localhost', server main port = 8848}
2025-08-30T22:29:49.586+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.c.remote.client.grpc.GrpcClient    : grpc client connection server:localhost ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-08-30T22:29:49.699+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] Success to connect to server [localhost:8848] on start up, connectionId = 1756564189590_127.0.0.1_61649
2025-08-30T22:29:49.699+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-08-30T22:29:49.699+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda/0x000001904453e178
2025-08-30T22:29:49.699+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] com.alibaba.nacos.common.remote.client   : [766acd60-6cf1-498a-af15-a2882c0d8aa7] Notify connected event to listeners.
2025-08-30T22:29:49.699+08:00  INFO 17924 --- [couponkill-coupon-service] [remote.worker.0] com.alibaba.nacos.client.naming          : Grpc connection connect
2025-08-30T22:29:49.701+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] com.alibaba.nacos.client.naming          : [REGISTER-SERVICE] 120 registering service couponkill-coupon-service with instance Instance{instanceId='null', ip='172.30.64.1', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.heart.beat.timeout=30000, IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-08-30T22:29:49.709+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP couponkill-coupon-service 172.30.64.1:8081 register finished
2025-08-30T22:29:50.724+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-08-30T22:29:50.734+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] a.s.c.CouponkillCouponServiceApplication : Started CouponkillCouponServiceApplication in 16.357 seconds (process running for 17.489)
2025-08-30T22:29:50.737+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-coupon-service-dev.yaml+DEFAULT_GROUP+120
2025-08-30T22:29:50.737+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-coupon-service-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:50.737+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=couponkill-coupon-service-dev.yaml, group=DEFAULT_GROUP
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] common.yaml+DEFAULT_GROUP+120
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=common.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=common.yaml, group=DEFAULT_GROUP
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-coupon-service+DEFAULT_GROUP+120
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-coupon-service, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=couponkill-coupon-service, group=DEFAULT_GROUP
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-120-localhost_8848] [subscribe] couponkill-coupon-service.yaml+DEFAULT_GROUP+120
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-120-localhost_8848] [add-listener] ok, tenant=120, dataId=couponkill-coupon-service.yaml, group=DEFAULT_GROUP, cnt=1
2025-08-30T22:29:50.738+08:00  INFO 17924 --- [couponkill-coupon-service] [           main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=couponkill-coupon-service.yaml, group=DEFAULT_GROUP
2025-08-30T22:29:57.531+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-30T22:29:57.531+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-30T22:29:57.533+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-30T22:29:57.568+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-1] c.a.s.c.controller.CouponController      : 根据ID查询优惠券: id=10
2025-08-30T22:29:57.721+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] c.a.s.c.controller.CouponController      : 扣减优惠券库存并返回使用的分片ID: id=10
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Logic SQL: SELECT * FROM coupon WHERE id = ? ORDER BY shard_index
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.743+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-1 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-2 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_0 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_1 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_2 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_3 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_4 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_5 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_6 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_7 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_8 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_9 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_10 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_11 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_12 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_13 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_14 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:57.744+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-3 ::: SELECT * FROM coupon_15 WHERE id = ? ORDER BY shard_index ::: [10]
2025-08-30T22:29:58.832+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-08-30T22:29:59.034+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4830fe49
2025-08-30T22:29:59.034+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-08-30T22:29:59.640+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-08-30T22:29:59.837+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7b2d0381
2025-08-30T22:29:59.837+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-08-30T22:30:01.044+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Logic SQL: UPDATE coupon
        SET seckill_remaining_stock = seckill_remaining_stock + ?,
            version = version + 1,
            update_time = NOW()
        WHERE id = ? AND shard_index = ? AND version = ?
2025-08-30T22:30:01.044+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: UPDATE coupon_0
        SET seckill_remaining_stock = seckill_remaining_stock + ?,
            version = version + 1,
            update_time = NOW()
        WHERE id = ? AND shard_index = ? AND version = ? ::: [-1, 10, 0, 3]
2025-08-30T22:30:01.116+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-4] c.a.s.c.service.Impl.CouponServiceImpl   : 成功扣减优惠券分片 0 的库存
2025-08-30T22:30:01.157+08:00  INFO 17924 --- [couponkill-coupon-service] [onPool-worker-1] c.a.s.c.service.Impl.CouponServiceImpl   : 异步更新Redis库存成功: key=coupon:stock:10
2025-08-30T22:30:02.388+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-3] c.a.s.c.controller.CouponController      : 增加优惠券库存: id=10
2025-08-30T22:30:02.439+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-7] c.a.s.c.controller.CouponController      : 创建补偿优惠券: coupon=Coupon(id=null, name=秒杀失败补偿券, description=由于秒杀失败给予的补偿优惠券, type=1, faceValue=10.0, minSpend=0, validDays=1, perUserLimit=1, totalStock=null, seckillTotalStock=0, remainingStock=0, seckillRemainingStock=0, status=1, createTime=null, updateTime=null, version=0, shardIndex=null)
2025-08-30T22:30:02.473+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-7] ShardingSphere-SQL                       : Logic SQL: INSERT INTO coupon (
            id, name, description, type, face_value, min_spend, valid_days,
            per_user_limit, total_stock, seckill_total_stock, remaining_stock,
            seckill_remaining_stock, status, create_time, update_time, version, shard_index
        ) VALUES (
                     ?, ?, ?, ?, ?, ?, ?,
                     ?, ?, ?, ?,
                     ?, ?, ?, ?, ?, ?
                 )
2025-08-30T22:30:02.473+08:00  INFO 17924 --- [couponkill-coupon-service] [nio-8081-exec-7] ShardingSphere-SQL                       : Actual SQL: coupon-db-0 ::: INSERT INTO coupon_0 (
            id, name, description, type, face_value, min_spend, valid_days,
            per_user_limit, total_stock, seckill_total_stock, remaining_stock,
            seckill_remaining_stock, status, create_time, update_time, version, shard_index
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ::: [null, 秒杀失败补偿券, 由于秒杀失败给予的补偿优惠券, 1, 10.0, 0, 1, 1, null, 0, 0, 0, 1, 2025-08-30T22:30:02.450864600, 2025-08-30T22:30:02.451401100, 0, 0]
2025-08-30T22:30:02.907+08:00 ERROR 17924 --- [couponkill-coupon-service] [nio-8081-exec-7] c.a.s.c.controller.CouponController      : 创建补偿优惠券失败

org.springframework.dao.DataIntegrityViolationException:
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
### The error may exist in file [D:\couponkill\couponkill-cloud-native\couponkill-coupon-service\target\classes\mapper\CouponMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO coupon (             id, name, description, type, face_value, min_spend, valid_days,             per_user_limit, total_stock, seckill_total_stock, remaining_stock,             seckill_remaining_stock, status, create_time, update_time, version, shard_index         ) VALUES (                      ?, ?, ?, ?, ?, ?, ?,                      ?, ?, ?, ?,                      ?, ?, ?, ?, ?, ?                  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
; Column 'id' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:97) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.13.jar:6.1.13]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy137.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy138.insertCoupon(Unknown Source) ~[na:na]
	at com.aliyun.seckill.couponkillcouponservice.service.Impl.CouponServiceImpl.createCoupon(CouponServiceImpl.java:65) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.13.jar:6.1.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.13.jar:6.1.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.13.jar:6.1.13]
	at com.aliyun.seckill.couponkillcouponservice.service.Impl.CouponServiceImpl$$SpringCGLIB$$0.createCoupon(<generated>) ~[classes/:na]
	at com.aliyun.seckill.couponkillcouponservice.controller.CouponController.createCompensationCoupon(CouponController.java:219) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.30.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:555) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:339) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.apache.shardingsphere.driver.executor.callback.execute.ExecuteCallbackFactory$1.executeSQL(ExecuteCallbackFactory.java:55) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.callback.execute.ExecuteCallbackFactory$1.executeSQL(ExecuteCallbackFactory.java:51) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:91) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:65) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:99) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.parallelExecute(ExecutorEngine.java:95) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:78) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:66) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:50) ~[shardingsphere-infra-executor-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.doExecute(DriverJDBCPushDownExecuteExecutor.java:105) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.lambda$execute$0(DriverJDBCPushDownExecuteExecutor.java:90) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.transaction.DriverTransactionalExecutor.execute(DriverTransactionalExecutor.java:56) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.pushdown.jdbc.DriverJDBCPushDownExecuteExecutor.execute(DriverJDBCPushDownExecuteExecutor.java:89) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.DriverExecuteExecutor.executePushDown(DriverExecuteExecutor.java:126) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.DriverExecuteExecutor.execute(DriverExecuteExecutor.java:114) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.executor.engine.facade.DriverExecutorFacade.execute(DriverExecutorFacade.java:144) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:245) ~[shardingsphere-jdbc-5.5.2.jar:5.5.2]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy188.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 68 common frames omitted

