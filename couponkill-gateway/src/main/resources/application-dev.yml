# src/main/resources/application-dev.yml
server:
  port: 8080

spring:
  cloud:
    gateway:
      routes:
        - id: user-service
          uri: lb://couponkill-user-service
          predicates:
            - Path=/user/**
          filters:
            - StripPrefix=1
            - name: Sentinel
              args:
                resourceName: user-service
                fallbackUri: forward:/fallback/user

        - id: coupon-service
          uri: lb://couponkill-coupon-service
          predicates:
            - Path=/coupon/**
          filters:
            - StripPrefix=1
            - name: Sentinel
              args:
                resourceName: coupon-service
                fallbackUri: forward:/fallback/coupon

        - id: order-service
          uri: lb://couponkill-order-service
          predicates:
            - Path=/order/**,/seckill/**
          filters:
            - StripPrefix=1
            - name: Sentinel
              args:
                resourceName: order-service
                fallbackUri: forward:/fallback/order

        - id: admin-service
          uri: lb://couponkill-admin-service
          predicates:
            - Path=/admin/**
          filters:
            - StripPrefix=1
            - name: Sentinel
              args:
                resourceName: admin-service
                fallbackUri: forward:/fallback/admin

        - id: go-service
          uri: http://localhost:8090
          predicates:
            - Path=/go/**
          filters:
            - StripPrefix=1
    sentinel:
      transport:
        dashboard: localhost:8080
      eager: true

# Sentinel配置