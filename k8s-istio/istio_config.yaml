# 创建 couponkill 命名空间并启用 Istio sidecar 自动注入
# 这允许该命名空间中的所有 Pod 自动获得 Envoy 代理
apiVersion: v1
kind: Namespace
metadata:
  name: couponkill
  labels:
    # 启用 Istio sidecar 自动注入
    # 当 Pod 在此命名空间中创建时，Istio 将自动注入 sidecar 代理
    istio-injection: enabled
---
# 创建 istio-system 命名空间
# 这是 Istio 控制平面组件的标准命名空间
apiVersion: v1
kind: Namespace
metadata:
  name: istio-system